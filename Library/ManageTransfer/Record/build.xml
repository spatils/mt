<project name="Hibernate Tools for Ant - hbm2java" default="gensrc">
    <property name="basepath"     value="C:\ManageTransfer\ManageTransfer"/>	
     
    <path id="tools">
	<path location="${basepath}/Record/lib/antlr-2.7.7.jar"/>
	<path location="${basepath}/Record/lib/dom4j-1.6.1.jar"/>
	<path location="${basepath}/Record/lib/hibernate-commons-annotations-4.0.2.Final.jar"/>
	<path location="${basepath}/Record/lib/hibernate-core-4.2.4.Final.jar"/>
	<path location="${basepath}/Record/lib/hibernate-jpa-2.0-api-1.0.1.Final.jar"/>
	<path location="${basepath}/Record/lib/hibernate-tools-4.0.0.jar"/>
	<path location="${basepath}/Record/lib/javassist-3.15.0-GA.jar"/>
	<path location="${basepath}/Record/lib/jboss-logging-3.1.0.GA.jar"/>
	<path location="${basepath}/Record/lib/jboss-transaction-api_1.1_spec-1.0.1.Final.jar"/>
  	<path location="${basepath}/Record/lib/hibernate-envers-4.2.0.Final.jar" /> 
  	<path location="${basepath}/Record/lib/hibernate-entitymanager-4.2.0.Final.jar" /> 
	<path location="${basepath}/Record/lib/slf4j-api-1.6.1.jar" /> 
	<path location="${basepath}/Record/lib/freemarker-2.3.19.jar" /> 
	<path location="${basepath}/Record/lib/Hibernate.jar" /> 
	<path location="${basepath}/Record/lib/GenerateCode.jar" /> 
	<path location="${basepath}/Record/lib/log4j-1.2.16.jar" /> 
	<path location="${basepath}/Record/lib/mysql-connector-java-5.1.26-bin.jar" /> 
    </path>
    <taskdef name="gen-src" classname="org.hibernate.tool.ant.HibernateToolTask" classpathref="tools"/>
    <target name="gensrc">
        <gen-src destdir="src/main/java">
            <configuration
                    configurationfile="${basepath}/Record/hibernate.cfg.xml">
                <fileset dir="${basepath}/Record/">
                    <include name="Connection.hbm.xml"/>

                </fileset>
            </configuration>
            <hbm2java destdir="${basepath}/Record/src/"/>
        </gen-src>
    </target>
    <target name="clean">
        <delete dir="${basepath}/Record/build"/>
    </target>

    <target name="compile">
        <mkdir dir="${basepath}/Record/build/classes"/>
        <javac srcdir="src" destdir="${basepath}/Record/build/classes" classpathref="tools"/>
    </target>

    <target name="jar">
        <mkdir dir="${basepath}/Record/build/jar"/>
        <jar destfile="${basepath}/Record/build/jar/Record.jar" basedir="${basepath}/Record/build/classes">
            <manifest>
                <attribute name="Main-Class" value="Record"/>
            </manifest>
        </jar>
    </target>
    <target name="run">
        <java classname="com.managetransfer.record.GenerateCodeRecord" classpathref="tools">	
	   <classpath>	
                <pathelement location="${basepath}/Record/build/jar/Record.jar"/>
	       <pathelement path="${java.class.path}"/>
           </classpath>
	</java>
    </target>
    <target name="gentran">
        <java classname="com.managetransfer.record.GenerateCodeTransformation" classpathref="tools">	
	   <classpath>	
                <pathelement location="${basepath}/Record/build/jar/Record.jar"/>
	       <pathelement path="${java.class.path}"/>
           </classpath>
	</java>
    </target>
</project>