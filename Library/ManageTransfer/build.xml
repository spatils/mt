<project name="List of commands for ManagerTransfer" default="InitializeDatabase">
	<property name="compilationBasePath"  value="./CompilationLibraries"/>
	<property name="RunTimeBasePath"      value="./RunTimeLibraries"/>
	<property name="RunTimeTargetPath"    value="./CompilationLibraries"/>
	<path id="tools">
		<path location="${compilationBasePath}/Hibernate/lib/antlr-2.7.7.jar"/>
		<path location="${compilationBasePath}/Hibernate/lib/dom4j-1.6.1.jar"/>
		<path location="${compilationBasePath}/Hibernate/lib/hibernate-commons-annotations-4.0.2.Final.jar"/>
		<path location="${compilationBasePath}/Hibernate/lib/hibernate-core-4.2.4.Final.jar"/>
		<path location="${compilationBasePath}/Hibernate/lib/hibernate-jpa-2.0-api-1.0.1.Final.jar"/>
		<path location="${compilationBasePath}/Hibernate/lib/hibernate-tools-4.0.0.jar"/>
		<path location="${compilationBasePath}/Hibernate/lib/javassist-3.15.0-GA.jar"/>
		<path location="${compilationBasePath}/Hibernate/lib/jboss-logging-3.1.0.GA.jar"/>
		<path location="${compilationBasePath}/Hibernate/lib/jboss-transaction-api_1.1_spec-1.0.1.Final.jar"/>
		<path location="${compilationBasePath}/Hibernate/lib/hibernate-envers-4.2.0.Final.jar" />
		<path location="${compilationBasePath}/Hibernate/lib/hibernate-entitymanager-4.2.0.Final.jar" />
		<path location="${compilationBasePath}/Hibernate/lib/slf4j-api-1.6.1.jar" />
		<path location="${compilationBasePath}/Hibernate/lib/freemarker-2.3.19.jar" />
		<path location="${compilationBasePath}/Hibernate/lib/Hibernate.jar" />
		<path location="${compilationBasePath}/Hibernate/lib/GenerateCode.jar" />
		<path location="${compilationBasePath}/Hibernate/lib/log4j-1.2.16.jar" />
		<path location="${compilationBasePath}/Hibernate/lib/mysql-connector-java-5.1.26-bin.jar" />
		<path location="${compilationBasePath}/Hibernate/lib/ojdbc14.jar" />
	</path>
	<taskdef name="gen-src" classname="org.hibernate.tool.ant.HibernateToolTask" classpathref="tools"/>
	<target name="InitializeDatabase">
		<gen-src destdir="src/main/java">
			<classpath>
				<path location="${compilationBasePath}/Hibernate/" />
			</classpath>
			<configuration
                    configurationfile="${compilationBasePath}/Hibernate/hibernate.cfg.xml">
				<fileset dir="${compilationBasePath}/Hibernate/">
					<include name="${compilationBasePath}/Hibernate/claims.hbm.xml"/>
				</fileset>
			</configuration>
			<hbm2java destdir="./src/"/>
		</gen-src>
		<java classname="com.managetransfer.generatecode.GenerateCodeRecord" classpathref="tools">
			<classpath>
				<path location="${compilationBasePath}/Hibernate/" />
				<pathelement location="./build/jar/Record.jar"/>
				<pathelement path="${java.class.path}"/>
			</classpath>
		</java>
	</target>

	<target name="clean">
		<delete dir="./build"/>
	</target>

	<target name="compile">
		<mkdir dir="./build/classes"/>
		<javac srcdir="src" destdir="./build/classes" classpathref="tools"/>
	</target>

	<target name="CreateBusinessObjectJar">
		<mkdir dir="./build/jar"/>
		<jar destfile="./build/jar/BusinessObject.jar" basedir="./build/classes/com/managetransfer/businessobject">
			<manifest>
				<attribute name="Main-Class" value="Record"/>
			</manifest>
		</jar>
		<copy file="./build/jar/BusinessObject.jar" todir="./RunTimeBasePath/Project/lib"/>
	</target>
	<target name="CreateFrameWorkObjectJar">
			<mkdir dir="./build/jar"/>
			<jar destfile="./build/jar/FrameWorkObject.jar" basedir="./build/classes/com/managetransfer/client">
				<manifest>
					<attribute name="Main-Class" value="Record"/>
				</manifest>
			</jar>
		    <copy file="./build/jar/FrameWorkObject.jar" todir="./RunTimeBasePath/Project/lib"/> 
	</target>
		
	<target name="run">
		<java classname="com.managetransfer.generatecode.GenerateCodeRecord" classpathref="tools">
			<classpath>
				<path location="${compilationBasePath}/Hibernate/" />
				<pathelement location="./build/jar/Record.jar"/>
				<pathelement path="${java.class.path}"/>
			</classpath>
		</java>
	</target>
	<target name="gentran">
		<java classname="com.managetransfer.generatecode.GenerateCodeTransformation" classpathref="tools">
			<classpath>
				<path location="${compilationBasePath}/Hibernate/" />
				<pathelement location="./build/jar/Record.jar"/>
				<pathelement path="${java.class.path}"/>

			</classpath>
		</java>
	</target>
	<target name="InitApp">
		<InitializeDatabase/>
		<run/>
	</target>
</project>